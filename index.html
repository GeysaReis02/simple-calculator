<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="calculadora simples" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/expr-eval@2.0.2/dist/bundle.min.js"></script>
  <title>Calculadora Simples</title>
</head>
<body>
  <div class="base">
    <h1>Calculadora Simples | Geysa Reis</h1>
    <div class="calculator">
      <h2>Calculadora</h2>
      <p id="result"></p>
      <table>
        <tr>
          <td><button class="button" onclick="insert('C')">C</button></td>
          <td><button class="button" onclick="insert('<')"><</button></td>
          <td><button class="button" onclick="insert('/')">/</button></td>
          <td><button class="button" onclick="insert('X')">X</button></td>
        </tr>
        <tr>
          <td><button class="button" onclick="insert('7')">7</button></td>
          <td><button class="button" onclick="insert('8')">8</button></td>
          <td><button class="button" onclick="insert('9')">9</button></td>
          <td><button class="button" onclick="insert('-')">-</button></td>
        </tr>
        <tr>
          <td><button class="button" onclick="insert('4')">4</button></td>
          <td><button class="button" onclick="insert('5')">5</button></td>
          <td><button class="button" onclick="insert('6')">6</button></td>
          <td><button class="button" onclick="insert('+')">+</button></td>
        </tr>
        <tr>
          <td><button class="button" onclick="insert('1')">1</button></td>
          <td><button class="button" onclick="insert('2')">2</button></td>
          <td><button class="button" onclick="insert('3')">3</button></td>
          <td rowspan="2"><button class="button" style="height:106px;" onclick="insert('=')">=</button></td>
        </tr>
        <tr>
          <td colspan="2"><button class="button" style="width:106px;" onclick="insert('0')">0</button></td>
          <td><button class="button" onclick="insert(',')">,</button></td>
        </tr>
      </table>
    </div>
  </div>
</body>
<script>
    const parser = new exprEval.Parser();
let result = "";

function insert(value) {
  if (value === "C") {
    result = "";
  } else if (value === "<") {
    result = result.slice(0, -1);
  } else if (value === "=") {
    try {
      const sanitized = result.replace("X", "*").replace(",", ".");
      result = parser.evaluate(sanitized).toString();
    } catch {
      result = "Erro";
    }
  } else {
    result += value;
  }

  document.getElementById("result").innerText = result;
}

</script>
</html>
